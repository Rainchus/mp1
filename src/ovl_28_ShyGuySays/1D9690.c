#include "common.h"

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F65E0_1D9690);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F67F8_1D98A8);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F6930_1D99E0);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F69F8_1D9AA8);

INCLUDE_RODATA("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", D_800FD5F0_1E06A0);

INCLUDE_RODATA("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", D_800FD5FC_1E06AC);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F6A38_1D9AE8);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F6E50_1D9F00);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F6F98_1DA048);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F6FC0_1DA070);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F702C_1DA0DC);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F71F4_1DA2A4);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F7244_1DA2F4);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F72A4_1DA354);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F736C_1DA41C);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F73EC_1DA49C);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F740C_1DA4BC);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F747C_1DA52C);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F74A0_1DA550);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F7608_1DA6B8);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F7680_1DA730);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F7720_1DA7D0);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F7780_1DA830);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F781C_1DA8CC);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F7874_1DA924);

void func_800F79E4_1DAA94(s16 arg0, unkStructShyGuySays_03* arg1, s16 arg2) {
    D_800F2B7C[arg0].unk_08 = arg1->unk_00;
    D_800F2B7C[arg0].unk_4C = 1.0f;

    if (arg2 >= 0) {
        D_800F2B7C[arg0].unk_0A = 0;
        D_800F2B7C[arg0].unk_48 = 0;
        D_800F2B7C[arg0].unk_50 = arg1->unk_02;
    } else {
        D_800F2B7C[arg0].unk_0A = 4;
        D_800F2B7C[arg0].unk_48 = arg1->unk_02;
        D_800F2B7C[arg0].unk_50 = 0;        
    }
}

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F7A8C_1DAB3C);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F7AF8_1DABA8);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F7B74_1DAC24);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F7C0C_1DACBC);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F7D88_1DAE38);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F8068_1DB118);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F80F8_1DB1A8);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F81A4_1DB254);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F82B0_1DB360);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F8818_1DB8C8);

INCLUDE_RODATA("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", D_800FD670_1E0720);

INCLUDE_RODATA("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", D_800FD698_1E0748);

INCLUDE_RODATA("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", D_800FD6C8_1E0778);

INCLUDE_RODATA("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", jtbl_800FD6E0_1E0790);

INCLUDE_RODATA("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", D_800FD6F8_1E07A8);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F8D58_1DBE08);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F9118_1DC1C8);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F94A8_1DC558);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F95BC_1DC66C);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F96D4_1DC784);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F97A8_1DC858);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F9828_1DC8D8);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F98EC_1DC99C);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F99C0_1DCA70);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F9A7C_1DCB2C);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F9AFC_1DCBAC);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F9C50_1DCD00);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F9D14_1DCDC4);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F9D80_1DCE30);

INCLUDE_RODATA("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", D_800FD768_1E0818);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800F9F60_1DD010);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FA308_1DD3B8);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FA77C_1DD82C);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FA8D4_1DD984);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FA8F4_1DD9A4);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FA960_1DDA10);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FAA80_1DDB30);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FAED8_1DDF88);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FB190_1DE240);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FB2C8_1DE378);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FB30C_1DE3BC);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FB424_1DE4D4);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FB520_1DE5D0);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FB6E0_1DE790);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FB840_1DE8F0);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FBAE4_1DEB94);

void func_800FBE60_1DEF10(unkObjectStruct* arg0) {
    UnknownBlock8 sp18;
    UnknownBlock8 sp1C;
    UnknownBlock36 sp20;
    f64 var_f12;
    f32 var_f12_2;
    u16 var_s3;
    u32 temp_a0;
    u32 temp_a1;
    u16 i;

    sp18 = D_800FD850;
    sp1C = D_800FD858;
    sp20 = D_800FD860;
    var_s3 = 0;

    if (func_8005FD5C() + D_800F64F8 == 0) {
        D_800FD5E4_1E0694 += 15 + (func_800F740C_1DA4BC(0) & 0xF);
        if (D_800FD5E4_1E0694 < 0 || D_800FD5E4_1E0694 >= 360) {
            D_800FD5E4_1E0694 -= 360;
        }
    }

    var_f12 = D_800FD5E4_1E0694;
    if (D_800FD5E4_1E0694 < 0) {
        var_f12 += D_800FD888;
    }
    func_800FD274_1E0324(arg0->unk_40[0], D_800FDC50, func_800AEAC0(var_f12), &sp18, &sp1C);

    var_f12 = D_800FD5E4_1E0694;
    if (D_800FD5E4_1E0694 < 0) {
        var_f12 += D_800FD890;
    }
    func_800FD274_1E0324(arg0->unk_40[0], D_800FDC52, func_800AEFD0(var_f12), &sp18, &sp1C);

    if (func_8005FD5C() + D_800F64F8 != 0) {
        return;
    }

    if (D_800FD9A0 == 2) {
        switch (D_800FDC4C) {
            case 0:
                if (D_800FD99C <= D_800FD5EC_1E069C && func_800F99C0_1DCA70() == 1) {
                    D_800FD99C = 0;
                    D_800FD9A8++;
                    var_s3 = func_800F740C_1DA4BC(2);
                    arg0->unk_4C[D_800FD9A8 % 4] = var_s3;
                    temp_a0 = arg0->unk_4C[2];
                    temp_a1 = arg0->unk_4C[3];
                    if (arg0->unk_4C[0] == arg0->unk_4C[1] ? (temp_a0 == 1 ? temp_a1 == 1 : temp_a1 == 0)
                                                           : (temp_a0 == 0 ? temp_a1 == 1 : temp_a1 == 0)) {
                        if (var_s3 == 0) {
                            arg0->unk_4C[D_800FD9A8 % 4] = 1;
                            var_s3 = 1;
                        } else {
                            arg0->unk_4C[D_800FD9A8 % 4] = 0;
                            var_s3 = 0;
                        }
                    }
                    if (D_800FD9A8 < 3) {
                        D_800FD5EC_1E069C -= 2.5;
                    } else {
                        D_800FD5EC_1E069C -= 5.0;
                        if (D_800FD5EC_1E069C < 27.5) {
                            D_800FD5EC_1E069C = 27.5f;
                            if (6.0 < D_800FDC54) {
                                D_800FDC54 -= 3.0;
                            }
                        }
                        if (!func_800F740C_1DA4BC(4)) {
                            var_s3 = 2;
                        }
                    }
                    if (D_800FD9A8 < 16) {
                        func_80060268(sp18.unk_00[D_800FD9A8 + 7]);
                    }
                    PlaySound(0x2FC);
                    switch (var_s3) {
                        case 0:
                            var_s3 = 1;
                            D_800FDC4C = 3;
                            break;
                        case 1:
                            var_s3 = 2;
                            D_800FDC4C = 3;
                            break;
                        default:
                            var_s3 = 3;
                            D_800FDC4C = 1;
                            break;
                    }
                    D_800FD5E8_1E0698 = var_s3;
                }
                break;
            case 1:
                if (func_800FD124_1E01D4(arg0) == 1) {
                    D_800FD99C = 0;
                    D_800FDC4C = 2;
                }
                break;
            case 2:
                if (D_800FD99C > 0) {
                    if (arg0->unk_4C[D_800FD9A8 % 4] == 0) {
                        var_s3 = 4;
                        D_800FD5E8_1E0698 = 2;
                        arg0->unk_4C[D_800FD9A8 % 4] = 1;
                    } else {
                        var_s3 = 5;
                        D_800FD5E8_1E0698 = 1;
                        arg0->unk_4C[D_800FD9A8 % 4] = 0;
                    }
                    D_800FD99C = 0;
                    D_800FDC4C = 3;
                }
                break;
            case 3:
                if (func_800FD124_1E01D4(arg0) == 1) {
                    D_800FD99C = 0;
                    D_800FDC4C = 4;
                }
                break;
            case 4:
                if (D_800FDC54 <= D_800FD99C) {
                    func_800F94A8_1DC558();
                    D_800FD99C = 0;
                    D_800FDC4C = 5;
                }
                break;
            case 5:
                if (D_800FD99C >= 8) {
                    func_800F96D4_1DC784();
                    func_800F98EC_1DC99C();
                    for (i = 0; i < 4; i++) {
                        if (func_800F9A7C_1DCB2C(i, D_800FD5E8_1E0698) == 0) {
                            break;
                        }
                    }
                    D_800FD99C = 0;
                    D_800FDC4C = 6;
                } else {
                    func_800F95BC_1DC66C();
                    var_s3 = 6;
                }
                break;
            case 6:
                if (func_800FD124_1E01D4(arg0) != 0 && func_800F97A8_1DC858() != 0 && func_800F9828_1DC8D8() != 0) {
                    D_800FD99C = 0;
                    D_800FDC4C = 7;
                }
                break;
            case 7:
                for (i = 0; i < 4; i++) {
                    if (func_800F9A7C_1DCB2C(i, D_800FD5E8_1E0698) != 0) {
                        continue;
                    }
                    if (D_800FDC30 == 2) {
                        if (i == 0) {
                            var_f12_2 = 325.0f;
                        } else if (i == 1) {
                            var_f12_2 = 340.0f;
                        } else if (i == 2) {
                            var_f12_2 = 20.0f;
                        } else {
                            var_f12_2 = 45.0f;
                        }
                        if (arg0->unk_28 == var_f12_2) {
                            D_800FDC4C = 9;
                            D_800FD99C = 0;
                            D_800FD5EA_1E069A = i;
                            var_s3 = 8;
                        } else {
                            arg0->unk_28 += func_800F74A0_1DA550(var_f12_2, arg0->unk_28, 20.0f);
                            if (360.0 < arg0->unk_28) {
                                arg0->unk_28 -= 360.0;
                            } else if (arg0->unk_28 < 0.0) {
                                arg0->unk_28 += 360.0;
                            }
                            D_800FD99C = 0;
                        }
                    } else {
                        var_s3 = 7;
                        D_800FDC4C = 8;
                        D_800FD99C = 0;
                    }
                    i = 5;
                }
                if (i == 4) {
                    if (D_800FDC30 == 1) {
                        D_800FD99C = 0;
                        D_800FDC4C = 0;
                    } else if (arg0->unk_28 == 180.0) {
                        if (D_800FD9A4 != 0) {
                            D_800FD9A6 = D_800FD9A4;
                        }
                        func_800F9D14_1DCDC4(D_800FD9A6);
                        if (D_800FDC1C == 0) {
                            if (D_800FD9A4 < 2) {
                                D_800FD9A0 = 3;
                                D_800FD998->func_ptr = &func_800F6A38_1D9AE8;
                                func_800601D4(40);
                            }
                        } else {
                            if (D_800FD9C0[D_800FDC1E].unk_00 != 0 && D_800FD9C0[D_800FDC1E].unk_04 != 512) {
                                if (D_800FD9A4 < 2) {
                                    D_800FD9A0 = 3;
                                    D_800FD998->func_ptr = &func_800F6E50_1D9F00;
                                    func_800601D4(40);
                                }
                            } else {
                                D_800FD9A0 = 3;
                                D_800FD998->func_ptr = &func_800F6E50_1D9F00;
                                func_800601D4(40);
                            }
                        }
                        D_800FD99C = 0;
                        D_800FDC4C = 8;
                        var_s3 = 9;
                    } else {
                        D_800FD99C = 0;
                        arg0->unk_28 += func_800F74A0_1DA550(180.0f, arg0->unk_28, 20.0f);
                    }
                }
                break;
            case 8:
                if (func_800FD124_1E01D4(arg0) == 1) {
                    D_800FD99C = 0;
                    D_800FDC4C = 7;
                }
                break;
            case 9:
                if (D_800FD99C != 10) {
                    if (D_800FD99C >= 15) {
                        D_800FD99C = 0;
                        D_800FDC4C = 8;
                        D_800FD9A4--;
                        func_800F9AFC_1DCBAC(D_800FD5EA_1E069A);
                    }
                }
                break;
        }
        
        func_800FCA8C_1DFB3C(arg0, var_s3);
        D_800FD99C++;
    } else {
        func_800FCA8C_1DFB3C(arg0, 0);
    }

    func_800F7A8C_1DAB3C(arg0->unk_40[3], arg0);
    func_800F7A8C_1DAB3C(arg0->unk_40[4], arg0);
    func_800F7A8C_1DAB3C(arg0->unk_40[5], arg0);
    func_80025798(arg0->unk_40[6], arg0->unk_18, arg0->unk_1C, arg0->unk_20);

    D_800FD5E0_1E0690++;
    if (D_800FD5EC_1E069C > 360.0f) {
        D_800FD5E0_1E0690 -= 360;
    }

    var_f12 = D_800FD5E0_1E0690;
    if (D_800FD5E0_1E0690 < 0) {
        var_f12 += 4294967296;
    }
    arg0->unk_1C = func_800AEAC0(var_f12) * 24.0 + 100.0;
}

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FCA8C_1DFB3C);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FD124_1E01D4);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FD1D0_1E0280);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FD200_1E02B0);

INCLUDE_ASM("asm/nonmatchings/ovl_28_ShyGuySays/1D9690", func_800FD274_1E0324);
